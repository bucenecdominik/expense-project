{% extends "base.html"%}

{% block title%}Money spent{%endblock%}


{% block content %}
        <div class="container-fluid d-grid gap-3 mb-2">
            <div class="row">
                <div class="col bg-dark">
                    <h1 class="text-center text-warning">Money spent</h1>
                </div>
                
                
            </div>
            
            <div class="row">
                <div class="col">
                        <div class="card card-body bg-dark text-warning rounded-0">
                            <form action="" method="get">
                                {{ filter.form }}
                                <button class="btn btn-warning" type="submit"> Search </button>
                            </form>
                            
                        </div>
                    
                </div>
            </div>
        </div>
        <div class="container-fluid d-grid gap-1">
            <div class="row h-75">
                <div class="col-md-7 mb-4">
                    <div class="card example-1 bg-dark rounded-0 overflow-auto">
                        <div class="card-body">
                            <table class="table table-dark table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col" class="text-warning">ID</th>
                                        <th scope="col" class="text-warning">Item name</th>
                                        <th scope="col" class="text-warning">Item description</th>
                                        <th scope="col" class="text-warning">Price</th>
                                        <th scope="col" class="text-warning">Time the item was bought</th>
                                        <th scope="col" class="text-warning">User</th>
                                        <th scope="col" class="text-warning">Detail</th>
                                        <th scope="col" class="text-warning">Delete</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                        {% for item in items %}
                                            <tr>
                                                <th scope="row" class="text-warning">{{item.id}}</th>
                                                <td scope="row" class="text-warning">{{item.name}}</td>
                                                <td scope="row" class="text-warning">{{item.description}}</td>
                                                <td scope="row" class="text-warning">{{item.price}} kč</td>
                                                <td scope="row" class="text-warning">{{item.time_it_was_bought}}</td>
                                                <td scope="row" class="text-warning">{{item.user}}</td>
                                                <td><button class="btn btn-warning"><a class="link-dark text-decoration-none" href="{% url 'detail' id=item.id %}">Detail</a></button></td>
                                                <td><button class="btn btn-warning"><a class="link-dark text-decoration-none"href="{% url 'delete_item' item_id=item.id %}">Delete</a></button></td> 
                                            </tr>
                                    {% endfor %}
                                    </tbody>
                            </table>  
                        </div>
                    </div>
                    
                </div>
                <div class="col-md-3 bg-dark mb-4">
                    <div class="card card-body example-1 bg-dark text-warning mt-3 rounded-0 ">
                        <form method="POST">{% csrf_token %}
                            <div class="mb-1 w-100 p-1">
                                <label for="exampleInputEmail1" class="form-label">Name of the item</label>
                                <input type="text" class="form-control bg-warning border-0" name="item_name" aria-describedby="emailHelp" required>
                            </div>
                            <div class="mb-1 w-100 p-1">
                                <label for="exampleInputPassword1" class="form-label">Price</label>
                                <input type="text" class="form-control bg-warning border-0" name="price" required>
                            </div>
                            <div class="mb-1 w-100 p-1">
                                <label for="exampleInputEmail1" class="form-label">Description</label>
                                <input type="text-field" class="form-control bg-warning border-0" name="description" aria-describedby="emailHelp">
                            </div>
                            <div class="mb-1 w-100 p-1">
                                <button type="submit" class="btn btn-warning">Add item</button>
                            </div>
                            
                            
                        </form>
                    </div>

                </div>

                <div class="col-md-2">
                    <div class="card example-1 bg-dark text-warning rounded-0">
                        <div class="card-body bg-dark m-3">
                            <h6>Summary of the items</h6>
                                
                            <p>Celková cena: {{sum_price}} Kč</p>
                
                        </div>
                    </div>
                </div>
            </div> 
        </div>     
{% endblock %}
